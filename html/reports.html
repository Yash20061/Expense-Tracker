<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ExpensePro | Reports</title>
  <link rel="stylesheet" href="/css/reports.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="dashboard-container">

    <div class="sidebar">
      <div class="logo">
        <i class="fas fa-wallet"></i>
        <span>ExpensePro</span>
      </div>
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="dashboard.html" class="nav-link">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="expense-tracker.html" class="nav-link">
            <i class="fas fa-exchange-alt"></i>
            <span>Transactions</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="saving.html" class="nav-link">
            <i class="fas fa-chart-bar"></i>
            <span>Budget & Savings</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="income.html" class="nav-link">
            <i class="fas fa-piggy-bank"></i>
            <span>Income Management</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="reminder.html" class="nav-link">
            <i class="fas fa-bell"></i>
            <span>Reminders</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="reports.html" class="nav-link active">
            <i class="fas fa-chart-bar"></i>
            <span>Reports</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="Shared_Expance.html" class="nav-link">
            <i class="fas fa-users"></i>
            <span>Shared</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="Chatbot.html" class="nav-link">
            <i class="fas fa-robot"></i>
            <span>AI Assistant</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="settings.html" class="nav-link">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
          </a>
        </li>
      </ul>
    </div>


    <div class="main-content">
      <div class="header">
        <h1 class="page-title">Reports</h1>
        <div class="user-menu">
          <button class="notification-btn">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
          <div class="user-avatar">JS</div>
        </div>
      </div>

     
      <div class="report-filters">
        <div class="filter-group">
          <select class="filter-select">
            <option>Monthly Report</option>
            <option>Annual Report</option>
            <option>Category Report</option>
            <option>Income vs Expense</option>
          </select>
          <select class="filter-select">
            <option>April 2024</option>
            <option>March 2024</option>
            <option>February 2024</option>
            <option>Custom Range</option>
          </select>
        </div>
        <button class="export-btn">
          <i class="fas fa-file-export"></i>
          <span>Export Report</span>
        </button>
      </div>

      <div class="report-cards">
        <div class="report-card">
          <div class="report-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3 class="report-title">Spending Trends</h3>
          <p class="report-desc">View your spending patterns over time</p>
        </div>
        <div class="report-card">
          <div class="report-icon">
            <i class="fas fa-chart-pie"></i>
          </div>
          <h3 class="report-title">Category Breakdown</h3>
          <p class="report-desc">See where your money is going</p>
        </div>
        <div class="report-card">
          <div class="report-icon">
            <i class="fas fa-balance-scale"></i>
          </div>
          <h3 class="report-title">Income vs Expenses</h3>
          <p class="report-desc">Compare your income and spending</p>
        </div>
      </div>


      <div class="charts-section">
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">Monthly Spending</div>
            <div class="chart-period">Jan 2024 - Apr 2024</div>
          </div>
          <div class="chart-container">
  
            <div style="display: flex; align-items: flex-end; height: 100%; gap: 10px; padding-top: 20px;">
              <div style="flex: 1; background-color: var(--accent-color); height: 40%; border-radius: 4px;"></div>
              <div style="flex: 1; background-color: var(--accent-color); height: 60%; border-radius: 4px;"></div>
              <div style="flex: 1; background-color: var(--accent-color); height: 80%; border-radius: 4px;"></div>
              <div style="flex: 1; background-color: var(--accent-color); height: 65%; border-radius: 4px;"></div>
            </div>
          </div>
        </div>
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">Spending by Category</div>
            <div class="chart-period">April 2024</div>
          </div>
          <div class="chart-container">
          
            <div style="width: 150px; height: 150px; border-radius: 50%; background: conic-gradient(
              var(--primary-color) 0% 25%, 
              var(--success-color) 25% 45%, 
              var(--accent-color) 45% 65%, 
              #f59e0b 65% 80%, 
              var(--error-color) 80% 100%
            ); margin: 20px auto;"></div>
          </div>
        </div>
      </div>

      <div class="report-table-container">
        <div class="table-header">
          <div class="table-title">Detailed Transactions</div>
        </div>
        <table class="report-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Category</th>
              <th>Description</th>
              <th>Amount</th>
              <th>Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Apr 15, 2024</td>
              <td><span class="category-badge">Food & Dining</span></td>
              <td>Dinner at Subway</td>
              <td class="amount-expense">-₹500</td>
              <td>Expense</td>
            </tr>
            <tr>
              <td>Apr 14, 2024</td>
              <td><span class="category-badge">Transportation</span></td>
              <td>Petrol for scooter</td>
              <td class="amount-expense">-₹350</td>
              <td>Expense</td>
            </tr>
            <tr>
              <td>Apr 12, 2024</td>
              <td><span class="category-badge">Shopping</span></td>
              <td>New headphones</td>
              <td class="amount-expense">-₹1,250</td>
              <td>Expense</td>
            </tr>
            <tr>
              <td>Apr 10, 2024</td>
              <td><span class="category-badge">Salary</span></td>
              <td>Monthly paycheck</td>
              <td class="amount-income">+₹25,000</td>
              <td>Income</td>
            </tr>
            <tr>
              <td>Apr 5, 2024</td>
              <td><span class="category-badge">Housing</span></td>
              <td>Electricity bill</td>
              <td class="amount-expense">-₹800</td>
              <td>Expense</td>
            </tr>
          </tbody>
        </table>
      </div>

    
      <div class="quick-add">
        <button class="add-btn">
          <i class="fas fa-plus"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Reports page loaded');
      
  
      document.querySelectorAll('.report-card').forEach(card => {
        card.addEventListener('click', function() {
       
          console.log('Report card clicked:', this.querySelector('.report-title').textContent);
        });
      });
    });

    document.addEventListener('DOMContentLoaded', function() {
  // DOM Elements
  const reportFilters = document.querySelectorAll('.filter-select');
  const exportBtn = document.querySelector('.export-btn');
  const reportCards = document.querySelectorAll('.report-card');
  const notificationBtn = document.querySelector('.notification-btn');
  const quickAddBtn = document.querySelector('.quick-add .add-btn');
  const reportTable = document.querySelector('.report-table tbody');

  // Sample data for reports
  const reportData = {
    transactions: [
      {
        id: 1,
        date: '2024-04-15',
        category: 'Food & Dining',
        description: 'Dinner at Subway',
        amount: -500,
        type: 'Expense'
      },
      {
        id: 2,
        date: '2024-04-14',
        category: 'Transportation',
        description: 'Petrol for scooter',
        amount: -350,
        type: 'Expense'
      },
      {
        id: 3,
        date: '2024-04-12',
        category: 'Shopping',
        description: 'New headphones',
        amount: -1250,
        type: 'Expense'
      },
      {
        id: 4,
        date: '2024-04-10',
        category: 'Salary',
        description: 'Monthly paycheck',
        amount: 25000,
        type: 'Income'
      },
      {
        id: 5,
        date: '2024-04-05',
        category: 'Housing',
        description: 'Electricity bill',
        amount: -800,
        type: 'Expense'
      }
    ],
    monthlySpending: {
      labels: ['Jan', 'Feb', 'Mar', 'Apr'],
      data: [12000, 15000, 18000, 14000]
    },
    categorySpending: {
      labels: ['Food', 'Transport', 'Shopping', 'Housing', 'Others'],
      data: [25, 20, 15, 30, 10],
      colors: ['var(--primary-color)', 'var(--success-color)', 'var(--accent-color)', '#f59e0b', 'var(--error-color)']
    }
  };

  // Initialize the page
  function init() {
    renderReportData();
    setupEventListeners();
    updateCharts();
  }

  // Set up event listeners
  function setupEventListeners() {
    // Report filter changes
    reportFilters.forEach(filter => {
      filter.addEventListener('change', handleFilterChange);
    });

    // Export button
    exportBtn.addEventListener('click', exportReport);

    // Report card clicks
    reportCards.forEach(card => {
      card.addEventListener('click', handleReportCardClick);
    });

    // Notification button
    notificationBtn.addEventListener('click', toggleNotifications);

    // Quick add button
    quickAddBtn.addEventListener('click', showQuickAddMenu);
  }

  // Handle filter changes
  function handleFilterChange() {
    const reportType = document.querySelector('.filter-select:nth-of-type(1)').value;
    const timePeriod = document.querySelector('.filter-select:nth-of-type(2)').value;
    
    console.log(`Report type: ${reportType}, Time period: ${timePeriod}`);
    // In a real app, this would fetch new data based on filters
    renderReportData();
    updateCharts();
  }

  // Render report data
  function renderReportData() {
    // Sort transactions by date (newest first)
    const sortedTransactions = [...reportData.transactions].sort((a, b) => 
      new Date(b.date) - new Date(a.date));
    
    // Clear existing table rows
    reportTable.innerHTML = '';
    
    // Add new rows
    sortedTransactions.forEach(transaction => {
      const row = document.createElement('tr');
      
      // Format date
      const formattedDate = new Date(transaction.date).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });
      
      // Format amount with currency symbol
      const formattedAmount = new Intl.NumberFormat('en-IN', {
        style: 'currency',
        currency: 'INR',
        minimumFractionDigits: 0
      }).format(Math.abs(transaction.amount));
      
      row.innerHTML = `
        <td>${formattedDate}</td>
        <td><span class="category-badge">${transaction.category}</span></td>
        <td>${transaction.description}</td>
        <td class="${transaction.amount < 0 ? 'amount-expense' : 'amount-income'}">
          ${transaction.amount < 0 ? '-' : '+'}${formattedAmount.replace('₹', '')}
        </td>
        <td>${transaction.type}</td>
      `;
      
      reportTable.appendChild(row);
    });
  }

  // Update chart visuals (simplified for this example)
  function updateCharts() {
    const barChartContainer = document.querySelector('.chart-card:nth-of-type(1) .chart-container');
    const pieChartContainer = document.querySelector('.chart-card:nth-of-type(2) .chart-container');
    
    // Clear existing chart visuals
    barChartContainer.innerHTML = '';
    pieChartContainer.innerHTML = '';
    
    // Create bar chart visualization
    const barChart = document.createElement('div');
    barChart.style.display = 'flex';
    barChart.style.alignItems = 'flex-end';
    barChart.style.height = '100%';
    barChart.style.gap = '10px';
    barChart.style.paddingTop = '20px';
    
    reportData.monthlySpending.data.forEach((value, index) => {
      const barHeight = (value / Math.max(...reportData.monthlySpending.data)) * 80;
      const bar = document.createElement('div');
      bar.style.flex = '1';
      bar.style.backgroundColor = 'var(--accent-color)';
      bar.style.height = `${barHeight}%`;
      bar.style.borderRadius = '4px';
      bar.style.position = 'relative';
      
      // Add value label
      const label = document.createElement('div');
      label.textContent = reportData.monthlySpending.labels[index];
      label.style.position = 'absolute';
      label.style.bottom = '-20px';
      label.style.width = '100%';
      label.style.textAlign = 'center';
      label.style.fontSize = '12px';
      
      bar.appendChild(label);
      barChart.appendChild(bar);
    });
    
    barChartContainer.appendChild(barChart);
    
    // Create pie chart visualization
    const pieChart = document.createElement('div');
    pieChart.style.width = '150px';
    pieChart.style.height = '150px';
    pieChart.style.borderRadius = '50%';
    pieChart.style.margin = '20px auto';
    
    // Generate conic-gradient for pie chart
    let conicGradient = '';
    let accumulatedPercent = 0;
    
    reportData.categorySpending.data.forEach((percent, index) => {
      const color = reportData.categorySpending.colors[index];
      const startPercent = accumulatedPercent;
      accumulatedPercent += percent;
      conicGradient += `${color} ${startPercent}% ${accumulatedPercent}%, `;
    });
    
    pieChart.style.background = `conic-gradient(${conicGradient.slice(0, -2)})`;
    pieChartContainer.appendChild(pieChart);
    
    // Add legend for pie chart
    const legend = document.createElement('div');
    legend.style.display = 'flex';
    legend.style.flexWrap = 'wrap';
    legend.style.justifyContent = 'center';
    legend.style.gap = '10px';
    legend.style.marginTop = '10px';
    
    reportData.categorySpending.labels.forEach((label, index) => {
      const legendItem = document.createElement('div');
      legendItem.style.display = 'flex';
      legendItem.style.alignItems = 'center';
      legendItem.style.fontSize = '12px';
      
      const colorBox = document.createElement('div');
      colorBox.style.width = '12px';
      colorBox.style.height = '12px';
      colorBox.style.backgroundColor = reportData.categorySpending.colors[index];
      colorBox.style.marginRight = '5px';
      colorBox.style.borderRadius = '2px';
      
      legendItem.appendChild(colorBox);
      legendItem.appendChild(document.createTextNode(`${label} (${reportData.categorySpending.data[index]}%)`));
      legend.appendChild(legendItem);
    });
    
    pieChartContainer.appendChild(legend);
  }

  // Handle report card clicks
  function handleReportCardClick(e) {
    const card = e.currentTarget;
    const reportType = card.querySelector('.report-title').textContent;
    
    // In a real app, this would load the specific report view
    console.log(`Loading report: ${reportType}`);
    
    // Highlight selected card
    reportCards.forEach(c => c.classList.remove('active'));
    card.classList.add('active');
    
    // Update filters based on report type
    if (reportType === 'Spending Trends') {
      document.querySelector('.filter-select:nth-of-type(1)').value = 'Monthly Report';
    } else if (reportType === 'Category Breakdown') {
      document.querySelector('.filter-select:nth-of-type(1)').value = 'Category Report';
    } else if (reportType === 'Income vs Expenses') {
      document.querySelector('.filter-select:nth-of-type(1)').value = 'Income vs Expense';
    }
    
    handleFilterChange();
  }

  // Export report
  function exportReport() {
    const reportType = document.querySelector('.filter-select:nth-of-type(1)').value;
    const timePeriod = document.querySelector('.filter-select:nth-of-type(2)').value;
    
    // In a real app, this would generate a PDF/CSV file
    console.log(`Exporting ${reportType} for ${timePeriod}`);
    alert(`Exporting ${reportType} for ${timePeriod} as PDF`);
  }

  // Toggle notifications
  function toggleNotifications() {
    console.log('Notifications clicked');
    document.querySelector('.notification-badge').textContent = '0';
  }

  // Show quick add menu
  function showQuickAddMenu() {
    // In a real app, this would show a quick add transaction menu
    console.log('Quick add button clicked');
    alert('Quick add transaction menu would appear here');
  }

  // Initialize the app
  init();
});
  </script>
</body>
</html>